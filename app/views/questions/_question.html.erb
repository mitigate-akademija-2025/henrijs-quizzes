<%= turbo_frame_tag dom_id(question) do %>
  <div class="rounded-xl border border-gray-200 bg-white/90 p-4 shadow-sm">
    <%= form_with model: question, data: { turbo_stream: true } do |qf| %>
      <div class="flex items-center gap-2">
        <%= qf.label :content, "Question", class: "text-sm font-semibold text-gray-900" %>
        <%= qf.text_field :content, class: "w-full rounded-lg border border-gray-300 bg-white p-3 focus:outline-none focus:ring-2 focus:ring-blue-500" %>
        <%= qf.submit "Save", class: "inline-flex items-center rounded-md bg-blue-600 px-3 py-2 text-white hover:bg-blue-700" %>
      </div>

      <div class="mt-3">
        <div class="flex items-center justify-between">
          <span class="text-sm font-medium text-gray-700">Options</span>
          <%= button_to "Add option",
                question_options_path(question),
                method: :post,
                form: { data: { turbo_stream: true } },
                class: "inline-flex items-center rounded-md bg-green-600 px-2.5 py-1.5 text-white hover:bg-green-700" %>
        </div>

        <div id="question-<%= question.id %>-options" class="mt-2 space-y-2">
          <%= render question.options %>
        </div>
      </div>

      <div class="mt-3">
        <%= button_to "Delete question",
              question_path(question),
              method: :delete,
              data: { turbo_confirm: "Delete this question?" },
              class: "inline-flex items-center rounded-md bg-rose-600 px-3 py-2 text-white hover:bg-rose-700" %>
      </div>
    <% end %>
  </div>
<% end %>
