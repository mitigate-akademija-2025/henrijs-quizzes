<%= turbo_frame_tag dom_id(question) do %>
  <section class="relative overflow-hidden rounded-2xl border border-gray-200/70 bg-white/80 p-5 shadow-sm backdrop-blur supports-[backdrop-filter]:bg-white/60">
    <div class="pointer-events-none absolute inset-x-0 top-0 h-px bg-gradient-to-r from-blue-500/40 via-cyan-500/40 to-violet-500/40"></div>

    <%= form_with model: question, data: { turbo_stream: true } do |qf| %>
      <!-- header row -->
      <div class="flex items-center gap-3">
        <span class="inline-flex h-8 w-8 items-center justify-center rounded-lg bg-blue-600/10 text-blue-700 ring-1 ring-inset ring-blue-600/20">
          <!-- Q icon -->
          <svg class="h-4.5 w-4.5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M12 7a3.5 3.5 0 1 1-2.6 5.8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            <circle cx="12" cy="17" r="1" fill="currentColor"/>
          </svg>
        </span>

        <%= qf.text_field :content,
              placeholder: "Type the questionâ€¦",
              class: "w-full rounded-xl border border-gray-200 bg-white px-3 py-2.5 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/60 focus:border-blue-500" %>

        <%= qf.submit "Save",
              class: "inline-flex items-center rounded-xl bg-blue-600 px-3.5 py-2 text-sm font-medium text-white shadow-sm ring-1 ring-blue-600/20 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500/60" %>
      </div>

      <!-- options header -->
      <div class="mt-4 flex items-center justify-between">
        <h4 class="text-sm font-semibold text-gray-900">Options</h4>
        <%= button_to "Add option",
              question_options_path(question),
              method: :post,
              form: { data: { turbo_stream: true } },
              class: "inline-flex items-center gap-1.5 rounded-lg bg-emerald-600 px-3 py-1.5 text-xs font-medium text-white shadow-sm ring-1 ring-emerald-600/20 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500/60" %>
      </div>

      <!-- options list (Turbo renders each option partial) -->
      <div id="question-<%= question.id %>-options" class="mt-2 space-y-2">
        <%= render question.options %>
      </div>

      <!-- destructive -->
      <div class="mt-4">
        <%= button_to "Delete question",
              question_path(question),
              method: :delete,
              data: { turbo_confirm: "Delete this question?" },
              class: "inline-flex items-center rounded-lg bg-rose-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-rose-500/60" %>
      </div>
    <% end %>
  </section>
<% end %>
