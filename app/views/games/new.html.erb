<!-- Header card -->
<section class="bg-gradient-to-r from-violet-500 to-purple-600 text-white rounded-2xl p-6 mb-6 shadow">
  <h1 class="text-3xl font-semibold leading-tight"><%= @quiz.title %></h1>

  <% if @quiz.description.present? %>
    <p class="mt-3 text-violet-100"><%= @quiz.description %></p>
  <% end %>

  <div class="mt-4 flex items-center gap-2 text-sm text-violet-100">
    <!-- user icon -->
    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 opacity-90" viewBox="0 0 24 24" fill="currentColor">
      <path d="M12 12c2.7 0 4.8-2.1 4.8-4.8S14.7 2.4 12 2.4 7.2 4.5 7.2 7.2 9.3 12 12 12zm0 2.4c-3.2 0-9.6 1.6-9.6 4.8V22h19.2v-2.8c0-3.2-6.4-4.8-9.6-4.8z"/>
    </svg>
    <span class="tracking-wide">
      <%= (@quiz.user&.username.presence || "AnonÄ«ms").upcase %>
    </span>
  </div>
</section>

<%= form_with url: quiz_games_path(@quiz), method: :post, class: "space-y-5" do %>
  <% if flash[:alert] %>
    <div class="rounded-lg bg-red-50 border border-red-200 text-red-700 px-4 py-3">
      <%= flash[:alert] %>
    </div>
  <% end %>

  <% @quiz.questions.each_with_index do |q, i| %>
    <section class="bg-white border border-gray-200 rounded-xl p-5 shadow-sm">
      <h2 class="font-semibold text-gray-800 mb-4">
        <span class="text-gray-500 mr-2"><%= i + 1 %>.</span>
        <%= q.content %>
      </h2>

      <!-- Options grid -->
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
        <% q.options.each do |opt| %>
          <label class="group relative">
            <!-- checkbox first so peer styles work -->
            <input type="checkbox"
                   name="answers[<%= q.id %>][]"
                   value="<%= opt.id %>"
                   class="peer sr-only">

            <div class="rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 text-gray-800
                        group-hover:bg-gray-100 transition
                        peer-checked:bg-blue-600 peer-checked:text-white peer-checked:border-blue-600
                        shadow-sm">
              <%= opt.content %>
            </div>
          </label>
        <% end %>
      </div>
    </section>
  <% end %>

  <div class="pt-2">
    <button class="w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white font-medium px-6 py-2.5 rounded-xl shadow-sm transition">
      Submit
    </button>
  </div>
<% end %>